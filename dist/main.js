(()=>{"use strict";const e=function(e,t){e.innerHTML="";for(let n=0;n<100;n++){const l=document.createElement("div");l.dataset.index=n,"player"==t?(l.classList.add("cell"),l.classList.add(`h${n}`)):"yourmom"==t&&(l.classList.add("enemycell"),l.classList.add(`e${n}`)),l.innerText=`${n}`,e.appendChild(l)}},t=function(){let e=Array(100).fill(null),t=[],n=[];return{placeShip:function(n,l){let o=n.length,r=[];for(let e=1;e<o;e++)r.push(l+e);r.forEach((t=>{e[t]=n})),t.push(n)},receiveAttack:function(t){return null===e[t]?(n.push(t),!1):(e[t].hit(),!0)},allShipsSunk:function(){return t.every((e=>e.isSunk()))},missedAttacks:n}},n=function(e){let t=0;return{length:e,hit:()=>(t++,t),isSunk:()=>t===e,get hits(){return t}}};function l(e,t){if("player"==e){const e=[5,4,3,2];let l=e.length;const o=document.querySelectorAll(".cell");let r=!0,c=0;r&&o.forEach((o=>{o.addEventListener("click",(o=>{const a=o.target,i=parseInt(a.dataset.index);let u=i;const s=n(e[c]);t.placeShip(s,i);for(let t=0;t<e[c];t++)document.querySelector(`.h${u}`).style.backgroundColor="blue",u++;c++,c==l&&(r=!1)}))}))}else if("yourmom"==e){const e=[5,4,3,2];let l=e.length;for(let o=0;o<l;o++){let l=Math.floor(100*Math.random()),r=l;console.log(`hello${r}`);let c=n(e[o]);t.placeShip(c,l);for(let t=0;t<e[o];t++)document.querySelector(`.e${r}`).style.backgroundColor="blue",r++}}}!function(n,o){let r,c;c=t(),r=t();const a=document.getElementById("playerboard"),i=document.getElementById("compboard");e(a,"player"),e(i,"yourmom"),l("player",c),l("yourmom",r);let u=n,s=!1;function d(e){if(s)return;const t=e.target.dataset.index,n=r.receiveAttack(t);e.target.style.backgroundColor=!0===n?"#f70202":"#4a4848"}function m(){if(s)return;let e=Math.floor(100*Math.random());const t=c.receiveAttack(e);a.querySelector(`[data-index='${e}']`).style.backgroundColor=!0===t?"#f70202":"#4a4848",h(),u=f()}function f(){return u=u===n?o:n}function h(){return c.allShipsSunk()?(s=!0,console.log("Game over! Computer won!"),void i.removeEventListener("click",d)):r.allShipsSunk()?(s=!0,void console.log("Game over! Player won!")):void 0}i.addEventListener("click",(e=>{u!==n||s||(d(e),h(),u=f(),setTimeout(m,500))}))}({name:"player1"},{name:"player2"})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aURqQyxDQ3pFQSxDQUFTLENBQUNRLEtBQU0sV0FBWSxDQUFDQSxLQUFNLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtYmF0dGxlc2hpcC8uL3NjcmlwdC9ET00uanMiLCJ3ZWJwYWNrOi8vdGhlLWJhdHRsZXNoaXAvLi9zY3JpcHQvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL3RoZS1iYXR0bGVzaGlwLy4vc2NyaXB0L3NoaXAuanMiLCJ3ZWJwYWNrOi8vdGhlLWJhdHRsZXNoaXAvLi9zY3JpcHQvcGxhY2VzaGlwcy5qcyIsIndlYnBhY2s6Ly90aGUtYmF0dGxlc2hpcC8uL3NjcmlwdC9nYW1lbG9vcC5qcyIsIndlYnBhY2s6Ly90aGUtYmF0dGxlc2hpcC8uL3NjcmlwdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkb00gPSAoKCk9PntcclxuICAgIGZ1bmN0aW9uIHJlbmRlckJvYXJkKGJvYXJkRWxlbWVudCwgaG9sZGVyKSB7XHJcbiAgICAgICAgYm9hcmRFbGVtZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBjZWxsLmRhdGFzZXQuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICBpZihob2xkZXIgPT0gXCJwbGF5ZXJcIil7XHJcbiAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2NlbGwnKTtcclxuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChgaCR7aX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGhvbGRlciA9PSBcInlvdXJtb21cIil7XHJcbiAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2VuZW15Y2VsbCcpO1xyXG4gICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKGBlJHtpfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNlbGwuaW5uZXJUZXh0ID0gYCR7aX1gO1xyXG4gICAgICAgICAgICBib2FyZEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbmRlckJvYXJkXHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZG9NIiwiaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcFwiO1xyXG5mdW5jdGlvbiBHYW1lYm9hcmQoKSB7XHJcbiAgbGV0IGJvYXJkID0gQXJyYXkoMTAwKS5maWxsKG51bGwpO1xyXG4gIGxldCBzaGlwcyA9IFtdO1xyXG4gIGxldCBtaXNzZWRBdHRhY2tzID0gW107XHJcblxyXG4gIGZ1bmN0aW9uIHBsYWNlU2hpcChzaGlwLGluZGV4KSB7XHJcbiAgICBsZXQgc2hpcGxlbmd0aCA9IHNoaXAubGVuZ3RoO1xyXG4gICAgbGV0IGNvb3JkaW5hdGVzID0gW107XHJcbiAgICBmb3IobGV0IGk9MTtpPHNoaXBsZW5ndGg7aSsrKXtcclxuICAgICAgY29vcmRpbmF0ZXMucHVzaChpbmRleCtpKTtcclxuICAgIH1cclxuICAgIGNvb3JkaW5hdGVzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgICBib2FyZFtjb29yZF0gPSBzaGlwO1xyXG4gICAgfSk7XHJcbiAgICBzaGlwcy5wdXNoKHNoaXApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcykge1xyXG4gICAgaWYgKGJvYXJkW2Nvb3JkaW5hdGVzXSA9PT0gbnVsbCkge1xyXG4gICAgICBtaXNzZWRBdHRhY2tzLnB1c2goY29vcmRpbmF0ZXMpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoaXRTaGlwID0gYm9hcmRbY29vcmRpbmF0ZXNdO1xyXG4gICAgaGl0U2hpcC5oaXQoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWxsU2hpcHNTdW5rKCkge1xyXG4gICAgcmV0dXJuIHNoaXBzLmV2ZXJ5KHNoaXAgPT4gc2hpcC5pc1N1bmsoKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcGxhY2VTaGlwLFxyXG4gICAgcmVjZWl2ZUF0dGFjayxcclxuICAgIGFsbFNoaXBzU3VuayxcclxuICAgIG1pc3NlZEF0dGFja3MsXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2FtZWJvYXJkOyIsImZ1bmN0aW9uIFNoaXAobGVuZ3RoKSB7XHJcbiAgbGV0IGhpdHMgPSAwO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbGVuZ3RoOiBsZW5ndGgsXHJcbiAgICBoaXQoKSB7XHJcbiAgICAgIGhpdHMrK1xyXG4gICAgICByZXR1cm4gaGl0cztcclxuICAgIH0sXHJcbiAgICBpc1N1bmsoKSB7XHJcbiAgICAgIHJldHVybiBoaXRzID09PSBsZW5ndGg7XHJcbiAgICB9LFxyXG4gICAgZ2V0IGhpdHMoKXtcclxuICAgICAgcmV0dXJuIGhpdHM7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCBTaGlwOyIsImltcG9ydCBTaGlwIGZyb20gXCIuL3NoaXBcIjtcclxuaW1wb3J0IGRvTSBmcm9tIFwiLi9ET01cIjtcclxuZnVuY3Rpb24gcGxhY2VzaGlwcyhob2xkZXIsIGJvYXJkKSB7XHJcbiAgaWYoaG9sZGVyID09IFwicGxheWVyXCIpe1xyXG4gICAgY29uc3Qgc2hpcHNMZW5ndGggPSBbNSwgNCwgMywgMl07XHJcbiAgICBsZXQgc2hpcHNsZW4gPSBzaGlwc0xlbmd0aC5sZW5ndGg7XHJcbiAgICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsJyk7XHJcbiAgICBsZXQgZ2FtZSA9IHRydWVcclxuICAgIGxldCBpID0gMFxyXG4gICAgaWYoZ2FtZSl7XHJcbiAgICAgIGNlbGxzLmZvckVhY2goY2VsbCA9PiB7XHJcbiAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2VsbCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoY2VsbC5kYXRhc2V0LmluZGV4KTtcclxuICAgICAgICAgIGxldCB0ZW1wID0gaW5kZXg7XHJcbiAgICAgICAgICBjb25zdCBzaGlwID0gU2hpcChzaGlwc0xlbmd0aFtpXSk7XHJcbiAgICAgICAgICBib2FyZC5wbGFjZVNoaXAoc2hpcCwgaW5kZXgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHNoaXBzTGVuZ3RoW2ldOyBrKyspIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmgke3RlbXB9YCkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2JsdWUnO1xyXG4gICAgICAgICAgICB0ZW1wKys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpKytcclxuICAgICAgICAgIGlmKGkgPT0gc2hpcHNsZW4pe1xyXG4gICAgICAgICAgICBnYW1lID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2UgaWYgKGhvbGRlciA9PSBcInlvdXJtb21cIil7XHJcbiAgICBjb25zdCBzaGlwc0xlbmd0aCA9IFs1LCA0LCAzLCAyXTtcclxuICAgIGxldCBzaGlwc2xlbiA9IHNoaXBzTGVuZ3RoLmxlbmd0aDsgIFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwc2xlbjsgaSsrKSB7XHJcbiAgICAgIGxldCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICBsZXQgdGVtcCA9IGluZGV4O1xyXG4gICAgICBjb25zb2xlLmxvZyhgaGVsbG8ke3RlbXB9YClcclxuICAgICAgbGV0IHNoaXAgPSBTaGlwKHNoaXBzTGVuZ3RoW2ldKTtcclxuICAgICAgYm9hcmQucGxhY2VTaGlwKHNoaXAsaW5kZXgpO1xyXG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IHNoaXBzTGVuZ3RoW2ldOyBrKyspIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZSR7dGVtcH1gKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnYmx1ZSc7XHJcbiAgICAgICAgdGVtcCsrO1xyXG4gICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxufVxyXG4gIFxyXG5cclxuXHJcblxyXG5leHBvcnQge3BsYWNlc2hpcHN9IiwiaW1wb3J0IFBsYXllcnMgZnJvbSBcIi4vcGxheWVyXCI7XHJcbmltcG9ydCBHYW1lYm9hcmQgZnJvbSBcIi4vZ2FtZWJvYXJkXCI7XHJcbmltcG9ydCBTaGlwIGZyb20gXCIuL3NoaXBcIjtcclxuaW1wb3J0IGRvTSBmcm9tIFwiLi9ET01cIjtcclxuaW1wb3J0IHsgcGxhY2VzaGlwcyB9IGZyb20gXCIuL3BsYWNlc2hpcHNcIjtcclxuXHJcbmZ1bmN0aW9uIGdhbWVMb29wKHBsYXllcjEsIHBsYXllcjIpIHtcclxuICBsZXQgY29tcGJvYXJkLCBwbGF5ZXJib2FyZDtcclxuICBwbGF5ZXJib2FyZCA9IEdhbWVib2FyZCgpO1xyXG4gIGNvbXBib2FyZCA9IEdhbWVib2FyZCgpO1xyXG4gIGNvbnN0IHBsYXllcjFib2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyYm9hcmRcIik7XHJcbiAgY29uc3QgcGxheWVyMmJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wYm9hcmRcIik7XHJcbiAgZG9NLnJlbmRlckJvYXJkKHBsYXllcjFib2FyZCxcInBsYXllclwiKTtcclxuICBkb00ucmVuZGVyQm9hcmQocGxheWVyMmJvYXJkLCBcInlvdXJtb21cIik7XHJcblxyXG5cclxuICBwbGFjZXNoaXBzKFwicGxheWVyXCIscGxheWVyYm9hcmQpO1xyXG4gIHBsYWNlc2hpcHMoXCJ5b3VybW9tXCIsY29tcGJvYXJkKTtcclxuXHJcbiBcclxuXHJcbiAgbGV0IGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXIxO1xyXG4gIGxldCBnYW1lT3ZlciA9IGZhbHNlO1xyXG5cclxuICBwbGF5ZXIyYm9hcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBpZiAoY3VycmVudFBsYXllciAhPT0gcGxheWVyMSB8fCBnYW1lT3Zlcikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBoYW5kbGVDbGljayhlKTtcclxuICAgIGNoZWNrZ2FtZU92ZXIoKTtcclxuICAgIGN1cnJlbnRQbGF5ZXIgPSBzd2l0Y2hQbGF5ZXIoKTtcclxuICAgIHNldFRpbWVvdXQoY29tcHV0ZXJUdXJuLCA1MDApO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xyXG4gICAgaWYgKGdhbWVPdmVyKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGNlbGxpbmRleCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmluZGV4O1xyXG4gICAgY29uc3QgcmVzdWx0ID0gY29tcGJvYXJkLnJlY2VpdmVBdHRhY2soY2VsbGluZGV4KTtcclxuICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcclxuICAgICAgZXZlbnQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2Y3MDIwMlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXZlbnQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiIzRhNDg0OFwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29tcHV0ZXJUdXJuKCkge1xyXG4gICAgaWYgKGdhbWVPdmVyKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuICAgIGNvbnN0IGNvbXBoaXQgPSBwbGF5ZXJib2FyZC5yZWNlaXZlQXR0YWNrKHgpO1xyXG4gICAgY29uc3QgY2VsbCA9IHBsYXllcjFib2FyZC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pbmRleD0nJHt4fSddYCk7XHJcbiAgICBpZiAoY29tcGhpdCA9PT0gdHJ1ZSkge1xyXG4gICAgICBjZWxsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2Y3MDIwMlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiM0YTQ4NDhcIjtcclxuICAgIH1cclxuICAgIGNoZWNrZ2FtZU92ZXIoKTtcclxuICAgIGN1cnJlbnRQbGF5ZXIgPSBzd2l0Y2hQbGF5ZXIoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN3aXRjaFBsYXllcigpIHtcclxuICAgIHJldHVybiAoY3VycmVudFBsYXllciA9IGN1cnJlbnRQbGF5ZXIgPT09IHBsYXllcjEgPyBwbGF5ZXIyIDogcGxheWVyMSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjaGVja2dhbWVPdmVyKCkge1xyXG4gICAgaWYgKHBsYXllcmJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XHJcbiAgICAgIGdhbWVPdmVyID0gdHJ1ZTtcclxuICAgICAgY29uc29sZS5sb2coXCJHYW1lIG92ZXIhIENvbXB1dGVyIHdvbiFcIik7XHJcbiAgICAgIHBsYXllcjJib2FyZC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2spO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoY29tcGJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XHJcbiAgICAgIGdhbWVPdmVyID0gdHJ1ZTtcclxuICAgICAgY29uc29sZS5sb2coXCJHYW1lIG92ZXIhIFBsYXllciB3b24hXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnYW1lTG9vcDtcclxuIiwiaW1wb3J0IGRvTSBmcm9tIFwiLi9ET01cIjtcclxuaW1wb3J0IFBsYXllciBmcm9tIFwiLi9wbGF5ZXJcIjtcclxuaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcclxuaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcFwiO1xyXG5pbXBvcnQgZ2FtZUxvb3AgZnJvbSBcIi4vZ2FtZWxvb3BcIjtcclxuXHJcblxyXG5nYW1lTG9vcCh7bmFtZTogXCJwbGF5ZXIxXCJ9LCB7bmFtZTogXCJwbGF5ZXIyXCJ9KTtcclxuIl0sIm5hbWVzIjpbImJvYXJkRWxlbWVudCIsImhvbGRlciIsImlubmVySFRNTCIsImkiLCJjZWxsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGF0YXNldCIsImluZGV4IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJib2FyZCIsIkFycmF5IiwiZmlsbCIsInNoaXBzIiwibWlzc2VkQXR0YWNrcyIsInBsYWNlU2hpcCIsInNoaXAiLCJzaGlwbGVuZ3RoIiwibGVuZ3RoIiwiY29vcmRpbmF0ZXMiLCJwdXNoIiwiZm9yRWFjaCIsImNvb3JkIiwicmVjZWl2ZUF0dGFjayIsImhpdCIsImFsbFNoaXBzU3VuayIsImV2ZXJ5IiwiaXNTdW5rIiwiaGl0cyIsInBsYWNlc2hpcHMiLCJzaGlwc0xlbmd0aCIsInNoaXBzbGVuIiwiY2VsbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2FtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsInBhcnNlSW50IiwidGVtcCIsImsiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb25zb2xlIiwibG9nIiwicGxheWVyMSIsInBsYXllcjIiLCJjb21wYm9hcmQiLCJwbGF5ZXJib2FyZCIsInBsYXllcjFib2FyZCIsImdldEVsZW1lbnRCeUlkIiwicGxheWVyMmJvYXJkIiwiY3VycmVudFBsYXllciIsImdhbWVPdmVyIiwiaGFuZGxlQ2xpY2siLCJjZWxsaW5kZXgiLCJyZXN1bHQiLCJjb21wdXRlclR1cm4iLCJ4IiwiY29tcGhpdCIsImNoZWNrZ2FtZU92ZXIiLCJzd2l0Y2hQbGF5ZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZSIsInNldFRpbWVvdXQiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==